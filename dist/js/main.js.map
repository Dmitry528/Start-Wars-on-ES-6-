{"version":3,"sources":["main.js"],"names":["request","fetch","then","response","json","catch","error","console","render_table","data","table","document","querySelector","i","tr","createElement","td","td_2","td_3","td_4","td_5","td_6","innerHTML","results","name","gender","height","mass","birth_year","skin_color","appendChild","button_shoose","currency_side","side_classes","side_prev","side_next","setAttribute","counter_choose","addEventListener","length","className","needs_you","getAttribute","slider_img","current_slider","prev_slider","next_slider","slider_counter","setInterval","book","validation_block","login_adm","password_adm","btn_data","get_data","chek_valid_data","value","login","password","localStorage","setItem","getItem","render_main","style","display","sign_out","out","removeItem","log","classList"],"mappings":"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","file":"main.js","sourcesContent":["\"use strict\";\r\n\r\n/* window.addEventListener(\"load\", init);\r\n\r\nlet nextPage = 1\r\nlet button_next = document.querySelector(\".next_table\");\r\nlet button_prev = document.querySelector(\".prev_table\");\r\n\r\n\r\nfunction init(){\r\n  request(render_table, request.url);\r\n  next_paginator();\r\n  back_paginator();\r\n}\r\n\r\nfunction next_paginator(){\r\n  button_next.addEventListener(\"click\", function(){\r\n    if(nextPage >= 1 || nextPage < 8){\r\n      nextPage++;\r\n      request.url = `https://swapi.co/api/people/?page=${nextPage}`;\r\n      request(Rerender_table, request.url);\r\n      return nextPage;\r\n    }\r\n  });\r\n}\r\n\r\nfunction back_paginator(){\r\n  button_prev.addEventListener(\"click\", function(){\r\n    if (nextPage >= 2 || nextPage < 8) {\r\n      nextPage--;\r\n      request.url = `https://swapi.co/api/people/?page=${nextPage}`;\r\n      request(Backrender_table, request.url);\r\n      return nextPage;\r\n    }\r\n  });\r\n}\r\n\r\n\r\n\r\nfunction request(callback, url){\r\n  let xhr = new XMLHttpRequest();\r\n  xhr.open(\"GET\", url, true);\r\n  xhr.send();\r\n  xhr.onreadystatechange = function () {\r\n    if (xhr.readyState != 4) return;\r\n\r\n    if (xhr.status != 200) {\r\n      var errStatus = xhr.status;\r\n      var errText = xhr.statusText;\r\n      console.log(errStatus + \": \" + errText);\r\n    } else {\r\n      var data = JSON.parse(xhr.responseText);\r\n      //console.log(data);\r\n      callback(data);\r\n    }\r\n  };\r\n}\r\n\r\nrequest.url = `https://swapi.co/api/people/?page=1`;\r\n\r\nlet render_table = (data) => {\r\n  let table = document.querySelector(\"table\");\r\n  for (let i = 0; i < 10; i++) {\r\n    let tr = document.createElement(\"tr\");\r\n    let td = document.createElement(\"td\");\r\n    let td_2 = document.createElement(\"td\");\r\n    let td_3 = document.createElement(\"td\");\r\n    let td_4 = document.createElement(\"td\");\r\n    let td_5 = document.createElement(\"td\");\r\n    let td_6 = document.createElement(\"td\");\r\n\r\n    td.innerHTML = data.results[i].name;\r\n    td_2.innerHTML = data.results[i].gender;\r\n    td_3.innerHTML = data.results[i].height;\r\n    td_4.innerHTML = data.results[i].mass;\r\n    td_5.innerHTML = data.results[i].birth_year;\r\n    td_6.innerHTML = data.results[i].skin_color;\r\n\r\n    tr.appendChild(td);\r\n    tr.appendChild(td_2);\r\n    tr.appendChild(td_3);\r\n    tr.appendChild(td_4);\r\n    tr.appendChild(td_5);\r\n    tr.appendChild(td_6);\r\n    table.appendChild(tr);\r\n  }  \r\n}\r\n\r\nlet Rerender_table = (data) =>{\r\n  let table = document.querySelector(\"table\");\r\n  let arrOftd = document.querySelectorAll(\"td\");\r\n  let cntr = 0;\r\n  for (let i = 0; i < data.results.length; i++) {\r\n    arrOftd[cntr++].innerHTML = data.results[i].name;\r\n    arrOftd[cntr++].innerHTML = data.results[i].gender;\r\n    arrOftd[cntr++].innerHTML = data.results[i].height;\r\n    arrOftd[cntr++].innerHTML = data.results[i].mass;\r\n    arrOftd[cntr++].innerHTML = data.results[i].birth_year;\r\n    arrOftd[cntr++].innerHTML = data.results[i].skin_color;\r\n  }\r\n}\r\n\r\nlet Backrender_table = (data) => {\r\n  let table = document.querySelector(\"table\");\r\n  let arrOftd = document.querySelectorAll(\"td\");\r\n  let cntr = 0;\r\n  for (let i = 0; i < data.results.length; i++) {\r\n    arrOftd[cntr++].innerHTML = data.results[i].name;\r\n    arrOftd[cntr++].innerHTML = data.results[i].gender;\r\n    arrOftd[cntr++].innerHTML = data.results[i].height;\r\n    arrOftd[cntr++].innerHTML = data.results[i].mass;\r\n    arrOftd[cntr++].innerHTML = data.results[i].birth_year;\r\n    arrOftd[cntr++].innerHTML = data.results[i].skin_color;\r\n  }\r\n} */\r\n\r\n/* Paginator with Promises end fetch start */\r\n\r\nvar request = fetch('https://swapi.co/api/people/?page=1').then(function (response) {\r\n  //alert(response.headers.get('Content-Type'));\r\n  //alert(response.status);\r\n\r\n  return response.json();\r\n}).catch(function (error) {\r\n  console.error(error);\r\n});\r\n\r\nrequest.then(function (data) {\r\n  //console.log(data);\r\n  render_table(data);\r\n});\r\n\r\nrequest.catch(function (error) {\r\n  console.error(error);\r\n});\r\n/* \r\n\r\n.then(function (data) {\r\n  console.log(data);\r\n  render_table(data);\r\n  return data.next;\r\n  })\r\n.then((next_page) => {\r\n  fetch(next_page)\r\n  return next_page.json();\r\n})\r\n\r\n\r\n*/\r\n\r\nfunction render_table(data) {\r\n  var table = document.querySelector(\"table\");\r\n  for (var i = 0; i < 10; i++) {\r\n    var tr = document.createElement(\"tr\");\r\n    var td = document.createElement(\"td\");\r\n    var td_2 = document.createElement(\"td\");\r\n    var td_3 = document.createElement(\"td\");\r\n    var td_4 = document.createElement(\"td\");\r\n    var td_5 = document.createElement(\"td\");\r\n    var td_6 = document.createElement(\"td\");\r\n\r\n    td.innerHTML = data.results[i].name;\r\n    td_2.innerHTML = data.results[i].gender;\r\n    td_3.innerHTML = data.results[i].height;\r\n    td_4.innerHTML = data.results[i].mass;\r\n    td_5.innerHTML = data.results[i].birth_year;\r\n    td_6.innerHTML = data.results[i].skin_color;\r\n\r\n    tr.appendChild(td);\r\n    tr.appendChild(td_2);\r\n    tr.appendChild(td_3);\r\n    tr.appendChild(td_4);\r\n    tr.appendChild(td_5);\r\n    tr.appendChild(td_6);\r\n    table.appendChild(tr);\r\n  }\r\n}\r\n\r\n/* create pagination and preloader */\r\n\r\n/* Paginator with Promises end fetch end */\r\n\r\n/* UI features in header */\r\n\r\n/* choose side */\r\nvar button_shoose = document.querySelector(\".button_shoose\");\r\nvar currency_side = document.querySelector(\".currency_side i\");\r\nvar side_classes = [\"fab fa-sith\", \"fas fa-jedi\"];\r\nvar side_prev = document.querySelector(\".prev\");\r\nvar side_next = document.querySelector(\".next\");\r\n\r\ncurrency_side.setAttribute(\"class\", side_classes[0]);\r\n\r\nvar counter_choose = 0;\r\n\r\nside_next.addEventListener(\"click\", function () {\r\n  counter_choose++;\r\n  if (counter_choose > side_classes.length - 1) {\r\n    counter_choose = 0;\r\n  }\r\n  currency_side.setAttribute(\"class\", side_classes[counter_choose]);\r\n});\r\n\r\nside_prev.addEventListener(\"click\", function () {\r\n  counter_choose--;\r\n  if (counter_choose < 0) {\r\n    counter_choose = side_classes.length - 1;\r\n  }\r\n  currency_side.setAttribute(\"class\", side_classes[counter_choose]);\r\n});\r\n\r\nbutton_shoose.addEventListener(\"click\", function () {\r\n  side_prev.setAttribute(\"class\", \"d-none\");\r\n  side_next.setAttribute(\"class\", \"d-none\");\r\n  button_shoose.setAttribute(\"class\", \"d-none\");\r\n\r\n  currency_side.className += \" current_side\";\r\n\r\n  var needs_you = document.querySelector(\".text_wrapper .contact\");\r\n  if (currency_side.getAttribute(\"class\") === \"fab fa-sith current_side\") {\r\n    needs_you.innerHTML = \"Sith is need you !\";\r\n  } else {\r\n    needs_you.innerHTML = \"Jedi is need you !\";\r\n  }\r\n});\r\n\r\n/* img slider */\r\n\r\nvar slider_img = [\"../img/img_slider_1.jpg\", \"../img/img_slider_2.jpg\", \"../img/img_slider_3.jpg\"];\r\nvar current_slider = document.querySelector(\".current_slider\");\r\n\r\nvar prev_slider = document.querySelector(\".prev_slider\");\r\nvar next_slider = document.querySelector(\".next_slider\");\r\n\r\nvar slider_counter = 0;\r\ncurrent_slider.setAttribute(\"src\", slider_img[slider_counter]);\r\n\r\nnext_slider.addEventListener(\"click\", function () {\r\n  slider_counter++;\r\n  if (slider_counter > slider_img.length - 1) {\r\n    slider_counter = 0;\r\n  }\r\n  current_slider.setAttribute(\"src\", slider_img[slider_counter]);\r\n});\r\n\r\nprev_slider.addEventListener(\"click\", function () {\r\n  slider_counter--;\r\n  if (slider_counter < 0) {\r\n    slider_counter = slider_img.length - 1;\r\n  }\r\n  current_slider.setAttribute(\"src\", slider_img[slider_counter]);\r\n});\r\n\r\nsetInterval(function () {\r\n  slider_counter++;\r\n  if (slider_counter > slider_img.length - 1) {\r\n    slider_counter = 0;\r\n  }\r\n  current_slider.setAttribute(\"src\", slider_img[slider_counter]);\r\n}, 8000);\r\n\r\n/* VALIDATION */\r\nvar book = document.querySelector(\".book\");\r\nvar validation_block = document.querySelector(\".validation\");\r\n\r\nvar login_adm = \"Admin\";\r\nvar password_adm = \"Admin123\";\r\n\r\nvar btn_data = document.querySelector(\".btn_get_data\");\r\nbtn_data.addEventListener(\"click\", get_data);\r\n\r\nfunction get_data() {\r\n  var login = document.querySelector(\".login\").value;\r\n  var password = document.querySelector(\".password\").value;\r\n\r\n  chek_valid_data(login, password);\r\n}\r\n\r\nfunction chek_valid_data(login, password) {\r\n  if (login === login_adm && password === password_adm) {\r\n    localStorage.setItem(\"Login\", login);\r\n    localStorage.setItem(\"Role\", \"Admin\");\r\n    if (localStorage.getItem(\"Role\") === \"Admin\") {\r\n      render_main();\r\n    }\r\n  } else {\r\n    var error = document.querySelector(\".error\");\r\n    error.style.display = \"block\";\r\n  }\r\n}\r\n\r\nfunction render_main() {\r\n  var validation_block = document.querySelector(\".validation\");\r\n  validation_block.setAttribute(\"class\", \"validation\");\r\n  validation_block.setAttribute(\"class\", \"d-none\");\r\n\r\n  book.setAttribute(\"class\", \"book\");\r\n  book.setAttribute(\"class\", \"d-flex\");\r\n  book.setAttribute(\"class\", \"align-items-center\");\r\n}\r\n\r\nvar sign_out = document.querySelector(\".sign_out\");\r\nsign_out.addEventListener(\"click\", out);\r\n\r\nfunction out() {\r\n  localStorage.removeItem(\"Login\");\r\n  localStorage.removeItem(\"Role\");\r\n  if (localStorage.getItem(\"Role\") != \"Admin\") {\r\n    console.log(\"WFT\");\r\n    book.setAttribute(\"class\", \"d-none\");\r\n\r\n    validation_block.classList = \"validation d-flex justify-content-center align-items-center\";\r\n  }\r\n}"]}